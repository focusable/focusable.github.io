(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{184:function(e,t,n){n(185),n(186),e.exports=n(238)},185:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},193:function(e,t,n){e.exports=n.p+"static/media/C5.e231eca0.mp3"},194:function(e,t,n){e.exports=n.p+"static/media/D4.159a664b.mp3"},195:function(e,t,n){e.exports=n.p+"static/media/F4.0b780a91.mp3"},196:function(e,t,n){e.exports=n.p+"static/media/G4.87bcb7b2.mp3"},238:function(e,t,n){"use strict";n.r(t);var r=n(252),o=n(10),a=n.n(o),i=n(22),s=n.n(i),l=n(0),u=n.n(l),c=n(67),d=n(11),f=c.b.model({started:!1,duration:60,soundDurations:c.b.array(c.b.number)}).volatile((function(e){return{time:0,startTime:0,lastSoundTime:0,lastSoundIndex:0,failure:0,hearSound:!1,finished:!1}})).actions((function(e){return{setHearSound:function(t){e.hearSound=t},setTime:function(t){e.time=t},setFinished:function(t){e.finished=t},setLastSoundTime:function(t){e.lastSoundTime=t},setLastSoundIndex:function(t){e.lastSoundIndex=t},resetStats:function(){e.failure=0,e.lastSoundIndex=0,e.lastSoundTime=0,e.finished=!1},increaseFailure:function(){e.failure+=1}}})).actions((function(e){var t=null,n=null;return{setSoundDurations:function(t){e.soundDurations.replace(t)},setStarted:function(r){var o=Object(c.a)(e).audioStore;if(e.started=r,r){e.setTime(0),e.startTime=Date.now(),e.resetStats();for(var a=[],i=[],s=[],l=0;l<60;l++)a.push(0);for(var u=0;u<=e.duration+1;u++)s.push(Math.random());for(var f=0;f<30;f++)i.push(0);for(var p=0;p<e.soundDurations.length;p++)i.push(p+1),a.push(p+1);t=setInterval((function(){var t=Date.now();if(e.setTime(t-e.startTime),!(e.time>1e3*e.duration)){var n=e.lastSoundTime+e.soundDurations[e.lastSoundIndex-1]-t;n>0!==e.hearSound&&Math.abs(n)>1e3&&e.increaseFailure();var r=0;e.lastSoundIndex&&t-e.lastSoundTime<5e3?r=0:!e.lastSoundIndex&&t-e.startTime>5e3?r=1+Math.floor(Math.random()*e.soundDurations.length):e.lastSoundIndex&&e.lastSoundTime+e.soundDurations[e.lastSoundIndex-1]+4e3>t?(r=a[Math.floor(s[Math.floor(e.time/1e3)]*a.length)],e.soundDurations[r-1]+t<e.lastSoundTime+e.soundDurations[e.lastSoundIndex-1]&&(r=0)):r=i[Math.floor(s[Math.floor(e.time/1e3)]*i.length)],t-e.startTime+e.soundDurations[r-1]>1e3*e.duration&&(r=0),r&&(e.setLastSoundTime(t),e.setLastSoundIndex(r),o.playSound(r-1))}}),1e3),n&&n(),n=Object(d.F)((function(){return e.time>1e3*e.duration}),(function(){o.playSound(0),o.playSound(1),clearInterval(t),e.setStarted(!1),e.setFinished(!0),n()}))}else t&&(clearInterval(t),t=null),n&&n()},setDuration:function(t){e.duration=t}}})).views((function(e){return{get result(){return 0}}})),p=c.b.model({meditation:f});function h(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.create({meditation:{}},e));case 1:case"end":return t.stop()}}),null,null,null,Promise)}var m=n(7),g=n.n(m),y=n(9),b=n.n(y),v=n(127),S=n(85),E=n(193),w=n(194),C=n(195),k=n(196);v.a.setAudioModeAsync({allowsRecordingIOS:!1,interruptionModeAndroid:S.INTERRUPTION_MODE_ANDROID_DUCK_OTHERS,interruptionModeIOS:S.INTERRUPTION_MODE_IOS_DUCK_OTHERS,playThroughEarpieceAndroid:!0,playsInSilentModeIOS:!0,shouldDuckAndroid:!0,staysActiveInBackground:!1});var I=new(function(){function e(){g()(this,e),this.sounds=[]}return b()(e,[{key:"init",value:function(){var e,t,n,r,o;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:e=0,t=[E,w,C,k];case 1:if(!(e<t.length)){i.next=11;break}return n=t[e],i.next=5,a.a.awrap(v.a.Sound.createAsync(n));case 5:r=i.sent,o=r.sound,this.sounds.push(o);case 8:e++,i.next=1;break;case 11:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"playSound",value:function(e){var t,n=arguments;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=n.length>1&&void 0!==n[1]&&n[1];try{this.sounds[e].playAsync(),t&&this.sounds[e].stopAsync()}catch(o){alert(o)}case 2:case"end":return r.stop()}}),null,this,null,Promise)}}]),e}()),x=n(175),O=n(3),D=n(31),R=n(60),T=n(4),j=function(e){return("000"+e).slice(-2)};var P=n(8),A=n.n(P),M=n(13),F=n.n(M),W=n(2),z=n.n(W),H=n(12),N=n.n(H),B=n(45),_=n(6);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var J=T.a.create({outerCircle:{overflow:"hidden",justifyContent:"center",alignItems:"center",backgroundColor:"#e3e3e3"},innerCircle:{overflow:"hidden",justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},leftWrap:{position:"absolute",top:0,left:0},halfCircle:{position:"absolute",top:0,left:0,borderTopRightRadius:0,borderBottomRightRadius:0,backgroundColor:"#f00"}});function K(e,t){var n=t.shadowColor;return{rotate:e.interpolate({inputRange:[0,50,50,100],outputRange:["0deg","180deg","180deg","180deg"]}),backgroundColor:n}}function X(e,t){var n=t.color,r=t.shadowColor;return{rotate:e.interpolate({inputRange:[0,50,50,100],outputRange:["0deg","0deg","180deg","360deg"]}),backgroundColor:e.interpolate({inputRange:[0,50,50,100],outputRange:[n,n,r,r]})}}function G(e){var t=new _.a.Value(100);return{circleProgress:t,secondsElapsed:0,text:e.updateText(0,e.seconds),interpolationValuesHalfCircle1:K(t,e),interpolationValuesHalfCircle2:X(t,e)}}var q=function(e){N()(r,e);var t,n=(t=r,function(){var e,n=z()(t);if(U()){var r=z()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return F()(this,e)});function r(e){var t;return g()(this,r),(t=n.call(this,e)).restartAnimation=function(){t.state.circleProgress.stopAnimation(),_.a.timing(t.state.circleProgress,{toValue:0,duration:1e3*t.props.seconds,easing:B.a.linear}).start()},t.renderHalfCircle=function(e){var n=e.rotate,r=e.backgroundColor,o=t.props.radius;return u.a.createElement(O.a,{style:[J.leftWrap,{width:o,height:2*o}]},u.a.createElement(_.a.View,{style:[J.halfCircle,{width:o,height:2*o,borderRadius:o,backgroundColor:r,transform:[{translateX:o/2},{rotate:n},{translateX:-o/2}]}]}))},t.state=G(e),t}return b()(r,[{key:"componentDidUpdate",value:function(e,t){!e.started&&this.props.started&&this.setState(G(this.props),this.restartAnimation)}},{key:"renderInnerCircle",value:function(){var e=this.props.radius-this.props.borderWidth;return u.a.createElement(O.a,{style:[J.innerCircle,L({width:2*e,height:2*e,borderRadius:e,backgroundColor:this.props.bgColor},this.props.containerStyle)]},this.props.children)}},{key:"render",value:function(){var e=this.state,t=e.interpolationValuesHalfCircle1,n=e.interpolationValuesHalfCircle2;return u.a.createElement(O.a,{style:[J.outerCircle,{width:2*this.props.radius,height:2*this.props.radius,borderRadius:this.props.radius,backgroundColor:this.props.color}]},this.renderHalfCircle(t),this.renderHalfCircle(n),this.renderInnerCircle())}}]),r}(u.a.PureComponent);q.defaultProps={color:"#f00",shadowColor:"#999",bgColor:"#e9e9ef",borderWidth:2,seconds:10,children:null,containerStyle:null,updateText:function(e,t){return(t-e).toString()}};var Q=l.createContext(void 0);function Y(){return Object(l.useContext)(Q)}var Z=n(38),$=Object(x.a)((function(e){var t=e.duration,n=Y().meditation,r=n.failure,o=n.finished,a=n.started,i=n.time,s=n.setDuration,u=n.setStarted,c=n.setHearSound;return l.useEffect((function(){return o?(Z.a.pop(),Z.a.result({result:Math.round(100-100*r/t),duration:t})):(s(t),u(!0)),function(){u(!1)}}),[o]),l.createElement(R.a,{onPressIn:function(){return c(!0)},onPressOut:function(){return c(!1)},disabled:!a,style:{flex:1,alignItems:"center",backgroundColor:"black"}},l.createElement(O.a,{style:{alignItems:"center",justifyContent:"center"}},l.createElement(O.a,{style:{padding:50}},l.createElement(q,{started:a,seconds:t,radius:125,borderWidth:8,color:"#26252A",shadowColor:"#FFA00A",bgColor:"black"},l.createElement(D.a,{style:ee.textStyle},function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return j(t)+":"+j(n)}(t-Math.round(i/1e3)))))),l.createElement(O.a,{style:{paddingBottom:50,alignItems:"center",justifyContent:"center"}},l.createElement(D.a,{style:{fontSize:16,color:"white"}},"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u043f\u043e\u043a\u0430 \u0412\u044b \u0441\u043b\u044b\u0448\u0438\u0442\u0435 \u0437\u0432\u0443\u043a"),l.createElement(D.a,{style:{fontSize:16,color:"white"}},"\u041e\u0442\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u044d\u043a\u0440\u0430\u043d \u043a\u043e\u0433\u0434\u0430 \u0437\u0432\u0443\u043a\u0430 \u043d\u0435\u0442")))})),ee=T.a.create({textStyle:{alignSelf:"center",fontFamily:"HelveticaNeue",color:"white",fontSize:60,fontWeight:"200"},myButton:{justifyContent:"center",alignItems:"center",padding:5,height:250,width:250,borderRadius:400,backgroundColor:"black",borderColor:"#FFA00A",borderWidth:10}}),te=$,ne=function(e){var t=e.duration,n=void 0===t?60:t,r=e.size,o=void 0===r?80:r;return l.createElement(O.a,{style:{width:o+20,height:o+20,justifyContent:"center",alignItems:"center",backgroundColor:"black"}},l.createElement(R.a,{onPress:function(){I.playSound(0,!0),Z.a.meditation({duration:n})},style:{borderRadius:(o+6)/2,backgroundColor:"#222223",width:o+6,height:o+6,alignItems:"center",justifyContent:"center"}},l.createElement(O.a,{style:{alignItems:"center"}},l.createElement(D.a,{style:{color:"orange",fontSize:28,fontWeight:"bold"}},Math.floor(n/60)),l.createElement(D.a,{style:{color:"white",marginTop:-5,fontSize:18}},"\u043c\u0438\u043d"))))},re=T.a.create({row:{flexWrap:"wrap",flexDirection:"row"}}),oe=function(){return l.createElement(O.a,{style:{alignItems:"center",backgroundColor:"black"}},l.createElement(O.a,{style:re.row},l.createElement(ne,null),l.createElement(ne,{duration:180}),l.createElement(ne,{duration:300})),l.createElement(O.a,{style:re.row},l.createElement(ne,{duration:900}),l.createElement(ne,{duration:1800}),l.createElement(ne,{duration:3600})))},ae=function(){return l.createElement(O.a,{style:{flex:1,alignItems:"center"}},l.createElement(D.a,{style:{padding:20,color:"white",fontSize:20,fontWeight:"bold"}},"\u0422\u0440\u0435\u043d\u0430\u0436\u0435\u0440 \u043c\u0435\u0434\u0438\u0442\u0430\u0446\u0438\u0438"),l.createElement(D.a,{style:{padding:20,color:"white",fontSize:20}},"\u0412\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0430 \u043c\u0435\u0434\u0438\u0442\u0430\u0446\u0438\u044f \u043d\u0430 \u0437\u0432\u0443\u043a - \u043e\u0434\u043d\u0430 \u0438\u0437 \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u0442\u0435\u0445\u043d\u0438\u043a \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435\u043c. ","\n","\u0412\u0441\u0435 \u0447\u0442\u043e \u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c - \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0437\u0432\u0443\u043a\u0438 \u0438 \u0442\u0438\u0448\u0438\u043d\u0443, \u0432 \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0441\u043e\u0437\u043d\u043e\u0432\u0430\u0442\u044c, \u0441\u043b\u044b\u0448\u0438\u0442\u0435 \u043b\u0438 \u0412\u044b \u0437\u0432\u0443\u043a \u0438\u043b\u0438 \u043d\u0435\u0442."),l.createElement(D.a,{style:{padding:20,color:"white",fontSize:20,fontWeight:"bold"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),l.createElement(oe,null))},ie=function(e){var t=e.onPress,n=e.text;return l.createElement(R.a,{style:{width:280,height:60,backgroundColor:"#FFA00A",justifyContent:"center",alignItems:"center",borderRadius:20},onPress:t},l.createElement(D.a,{style:{color:"white",fontWeight:"bold",fontSize:20}},n||"\u041d\u0430\u0447\u0430\u0442\u044c"))},se=function(e){var t=e.duration,n=void 0===t?600:t,r=e.result,o=void 0===r?100:r,a=Y().meditation.setFinished;return l.createElement(O.a,{style:{flex:1,alignItems:"center"}},l.createElement(D.a,{style:{paddingTop:100,color:"white",fontSize:20,fontWeight:"bold"}},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),l.createElement(D.a,{style:{padding:20,color:"white",fontSize:20}},"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043c\u0435\u0434\u0438\u0442\u0430\u0446\u0438\u0438: ",n/60," \u043c\u0438\u043d"),l.createElement(D.a,{style:{color:"white",fontSize:20}},"\u0412\u0430\u0448\u0430 \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",o,"%"),l.createElement(O.a,{style:{position:"absolute",bottom:100}},l.createElement(ie,{text:"\u041e\u041a",onPress:function(){a(!1),Z.a.pop()}})))};var le=function(){var e=Object(l.useState)(void 0),t=s()(e,2),n=t[0],r=t[1];return Object(l.useEffect)((function(){!function(){var e;a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return I.init(),t.next=3,a.a.awrap(h({audioStore:I}));case 3:(e=t.sent).meditation.setSoundDurations([15307,8855,5459,6870]),r(e);case 6:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]),!!n&&l.createElement(Q.Provider,{value:n},l.createElement(Z.b,{tintColor:"white",navigationBarStyle:{backgroundColor:"black"},sceneStyle:{backgroundColor:"black"}},l.createElement(Z.d,{hideNavBar:!0,mode:"modal"},l.createElement(Z.d,{hideNavBar:!0},l.createElement(Z.c,{key:"main",component:ae}),l.createElement(Z.c,{key:"meditation",component:te,hideNavBar:!0})),l.createElement(Z.c,{key:"result",component:se}))))};Object(r.a)(le)}},[[184,1,2]]]);
//# sourceMappingURL=app.2dea889a.chunk.js.map